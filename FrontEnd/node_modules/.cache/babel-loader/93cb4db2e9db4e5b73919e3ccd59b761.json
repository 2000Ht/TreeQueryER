{"remainingRequest":"/Users/ht.mi/个人资料/研究生资料/个人论文/tree_visual_query/RETree-main/FrontEnd/node_modules/babel-loader/lib/index.js!/Users/ht.mi/个人资料/研究生资料/个人论文/tree_visual_query/RETree-main/FrontEnd/node_modules/eslint-loader/index.js??ref--13-0!/Users/ht.mi/个人资料/研究生资料/个人论文/tree_visual_query/RETree-main/FrontEnd/src/dataHighLight.js","dependencies":[{"path":"/Users/ht.mi/个人资料/研究生资料/个人论文/tree_visual_query/RETree-main/FrontEnd/src/dataHighLight.js","mtime":1648714649000},{"path":"/Users/ht.mi/个人资料/研究生资料/个人论文/tree_visual_query/RETree-main/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1660192275271},{"path":"/Users/ht.mi/个人资料/研究生资料/个人论文/tree_visual_query/RETree-main/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1660192275351},{"path":"/Users/ht.mi/个人资料/研究生资料/个人论文/tree_visual_query/RETree-main/FrontEnd/node_modules/eslint-loader/index.js","mtime":1660192275000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.set\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/web.dom.iterable\";\nimport * as d3 from 'd3';\n\nfunction dataHighLight_In_and_Out(treevis, dataHighLight, bus, RootDes, is_hilight) {\n  if (dataHighLight == null || typeof dataHighLight == 'undefined' || !(dataHighLight instanceof Array)) {\n    console.log(\"dataHightLight为null或者未定义或者不是数组类型\");\n    return;\n  } else {\n    dataHighLight.forEach(function (ele) {\n      //ele 是treeIn数组 或者 treeOut数组\n      highLightInOut(treevis, ele, bus, RootDes, is_hilight);\n    });\n  }\n}\n\nfunction highLightInOut(treevis, tmpEle, bus, RootDes, is_hilight) {\n  if (!tmpEle['data'][0]) {\n    console.log(\"Out什么都没选的情况，也就是'请选择'\");\n    bus.$emit(\"brushed_data\", []);\n    return;\n  }\n\n  var tmpEleDataArray = tmpEle['data'];\n  var tmpEleDataType = tmpEle['type']; //暂时只传递treeOut数据到属性区域\n\n  if (tmpEle['type'] == 'treeOut' && is_hilight) {\n    var eiChildrenIndexList = [];\n    tmpEleDataArray.forEach(function (ei) {\n      eiChildrenIndexList = eiChildrenIndexList.concat(d3.hierarchy(ei).descendants().map(function (d) {\n        return d.data.data.nodeIndex;\n      }));\n    });\n    eiChildrenIndexList = Array.from(new Set(eiChildrenIndexList));\n    var sendHighLight = RootDes.filter(function (d) {\n      return eiChildrenIndexList.includes(d.data.data.nodeIndex);\n    }).map(function (d) {\n      return d.data;\n    });\n    bus.$emit(\"brushed_data\", sendHighLight);\n  } else {\n    bus.$emit(\"brushed_data\", []);\n  }\n\n  tmpEleDataArray.forEach(function (ei) {\n    var eiChildrenIndexList = [];\n    eiChildrenIndexList = eiChildrenIndexList.concat(d3.hierarchy(ei).descendants().map(function (d) {\n      return d.data.data.nodeIndex;\n    }));\n    eiChildrenIndexList.forEach(function (child) {\n      d3.select('#' + treevis).select('#node-id-' + child).classed(tmpEleDataType + '-highlight', is_hilight);\n    }); //   console.log(eiChildrenIndexList, tmpEleDataType)\n  });\n}\n\nexport default {\n  install: function install(Vue) {\n    Vue.prototype.dataHighLight_In_and_Out = function (param1, param2, param3, param4, param5) {\n      return dataHighLight_In_and_Out(param1, param2, param3, param4, param5);\n    };\n  }\n};",{"version":3,"sources":["/Users/ht.mi/个人资料/研究生资料/个人论文/tree_visual_query/RETree-main/FrontEnd/src/dataHighLight.js"],"names":["d3","dataHighLight_In_and_Out","treevis","dataHighLight","bus","RootDes","is_hilight","Array","console","log","forEach","ele","highLightInOut","tmpEle","$emit","tmpEleDataArray","tmpEleDataType","eiChildrenIndexList","ei","concat","hierarchy","descendants","map","d","data","nodeIndex","from","Set","sendHighLight","filter","includes","child","select","classed","install","Vue","prototype","param1","param2","param3","param4","param5"],"mappings":"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","sourcesContent":["\nimport * as d3 from 'd3'\n\n\nfunction dataHighLight_In_and_Out(treevis, dataHighLight, bus, RootDes, is_hilight){\n    if(dataHighLight==null || typeof dataHighLight == 'undefined' || !(dataHighLight instanceof Array) ){\n      console.log(\"dataHightLight为null或者未定义或者不是数组类型\");\n      return;\n    }\n    else{        \n      dataHighLight.forEach(ele=>{\n        //ele 是treeIn数组 或者 treeOut数组\n        highLightInOut(treevis, ele, bus, RootDes, is_hilight);\n      })\n    }\n}\n\n\nfunction highLightInOut(treevis, tmpEle, bus, RootDes, is_hilight){\n    if(!tmpEle['data'][0]){\n      console.log(\"Out什么都没选的情况，也就是'请选择'\")\n      bus.$emit(\"brushed_data\", [])\n      return;\n    }\n    let tmpEleDataArray = tmpEle['data']\n    let tmpEleDataType = tmpEle['type']\n    //暂时只传递treeOut数据到属性区域\n    if(tmpEle['type'] == 'treeOut' && is_hilight){\n      let eiChildrenIndexList = []\n      tmpEleDataArray.forEach(ei=>{\n        eiChildrenIndexList = eiChildrenIndexList.concat(d3.hierarchy(ei).descendants().map(d=>d.data.data.nodeIndex))\n      })\n      eiChildrenIndexList = Array.from(new Set(eiChildrenIndexList))\n      let sendHighLight = RootDes.filter(d=>eiChildrenIndexList.includes(d.data.data.nodeIndex)).map(d=>d.data)\n      bus.$emit(\"brushed_data\", sendHighLight)\n    }else{\n      bus.$emit(\"brushed_data\", [])\n    }\n    tmpEleDataArray.forEach(ei=>{\n      let eiChildrenIndexList = []\n      eiChildrenIndexList = eiChildrenIndexList.concat(d3.hierarchy(ei).descendants().map(d=>d.data.data.nodeIndex))\n      eiChildrenIndexList.forEach(child=>{\n        d3.select('#' + treevis)\n          .select('#node-id-' + child).classed(tmpEleDataType+'-highlight', is_hilight)\n      })\n    //   console.log(eiChildrenIndexList, tmpEleDataType)\n    })\n}\n\nexport default{\n    install: function(Vue){\n      Vue.prototype.dataHighLight_In_and_Out = (param1, param2, param3, param4, param5) => dataHighLight_In_and_Out(param1, param2, param3, param4, param5)\n    }\n}"]}]}