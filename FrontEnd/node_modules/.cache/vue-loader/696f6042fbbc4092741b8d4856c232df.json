{"remainingRequest":"/Users/ht.mi/研究生资料/tree_visual_query/RETree-main/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ht.mi/研究生资料/tree_visual_query/RETree-main/FrontEnd/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ht.mi/研究生资料/tree_visual_query/RETree-main/FrontEnd/src/App.vue","mtime":1671103399841},{"path":"/Users/ht.mi/研究生资料/tree_visual_query/RETree-main/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1660192275271},{"path":"/Users/ht.mi/研究生资料/tree_visual_query/RETree-main/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1660192275351},{"path":"/Users/ht.mi/研究生资料/tree_visual_query/RETree-main/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1660192275271},{"path":"/Users/ht.mi/研究生资料/tree_visual_query/RETree-main/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1660192275522}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport { mapState, mapMutations } from 'vuex';\nimport TreeVisView from './views/TreeVisView.vue'\nimport DataFlowView from './views/DataFlowView.vue'\nimport REView from './views/REView.vue'\nimport VisView from './views/VisView.vue'\nimport OverviewPanel from './views/OverviewPanel.vue'\nimport VisPanel from './views/VisPanel.vue'\nimport RecommendPanel from './views/RecommendPanel.vue'\nimport EditorPanel from './views/EditorPanel.vue'\nimport GraphPanel from './views/GraphPanel.vue'\nimport RegRecommendPanel from './views/RegRecommendationPanel.vue'\n\nimport { loadHierarchicalData } from './data/dataloading.js'\nimport { Dataset}  from './data/dataset.js'\nimport { getHierarchyData } from './communication/communicator.js'\nimport { getComponentKey } from '@/utils/componentkey.js'\n  import { readFile } from 'fs';\n  import * as fs from 'fs';\n\nexport default {\n  name: 'app',\n  components: {\n    TreeVisView, DataFlowView, REView, VisView,\n    OverviewPanel,VisPanel,RecommendPanel,EditorPanel,GraphPanel,RegRecommendPanel\n  },\n  data() {\n    return {\n      appName: \"TreeQueryER\",\n      operationArray: ['data'],\n      activeIndex: '',\n      loadingData: false,\n      curIndex: 0,\n    }\n  },\n  computed: {\n    ...mapState([\n      'displayMode',\n      'curRegex',\n      'regexCommitState',\n      'attributeList',\n      'regexViewState',\n      'visViewState',\n      'curRegexIndex',\n      'curConnectionNode',\n      'connectionState',\n\n      'queryStateIndex',\n      'queryStateRegex',\n      'queryIndex',\n      'queryPage',\n      'queryStatePage',\n      'queryStateCoding',\n      'queryCoding',\n    ]),\n  },\n  watch:{\n    regexCommitState: function(){\n      this.regexQuery(this.curRegexIndex)\n    },\n    connectionState: function(){\n      this.regexQuery(this.curConnectionNode)\n    },\n\n    queryStateIndex: function(){\n      this.dataQuery1(this.queryIndex)\n    },\n    queryStateRegex: function(){\n      this.dataQuery2()\n    },\n    queryStatePage: function(){\n      this.dataQuery3(this.queryPage)\n    },\n    queryStateCoding: function(){\n      this.dataQuery4(this.queryCoding)\n    }\n\n  },\n  beforeMount() {\n    let self = this\n    window.sysDatasetObj = new Dataset()\n    sysDatasetObj.init()\n    loadHierarchicalData('treeDataset/new_same_tree1.json', function(data){\n    sysDatasetObj.updateSameTree(data)\n      // let tmpData = sysDatasetObj.returnInitData()\n      // self.attributeCompute(tmpData)\n    })\n  },\n  mounted() {\n\n  },\n  methods: {\n    ...mapMutations([\n      'UPDATE_ATTRIBUTE_LIST_NUMBER',\n      'UPDATE_ATTRIBUTE_LIST_STRING',\n      'UPDATE_ATTRIBUTE_LIST_BOOLEAN',\n      'UPDATE_VISVIEW',\n\n      'DATA_QUERY_INDEX',\n      'UPDATE_VIS_PANEL',\n      'UPDATE_REG_PANEL',\n      'UPDATE_TREE_LIST'\n    ]),\n    iconClass(operation) {\n      return 'icon-' + operation\n    },\n    // attributeCompute(curNode){\n    //   if('data' in curNode){\n    //     curNode['data']['nodeIndex'] = this.curIndex\n    //     this.curIndex = this.curIndex + 1\n    //     for(let key in curNode['data']){\n    //       if(!(key in this.attributeList)){\n    //         if(typeof(curNode['data'][key]) == 'number')\n    //           this.UPDATE_ATTRIBUTE_LIST_NUMBER(key)\n    //         else if(typeof(curNode['data'][key]) == 'string')\n    //           this.UPDATE_ATTRIBUTE_LIST_STRING(key)\n    //         else if(typeof(curNode['data'][key]) == 'boolean'){\n    //           this.UPDATE_ATTRIBUTE_LIST_BOOLEAN(key)\n    //         }\n    //       }\n    //     }\n    //   }\n    //   else{\n    //     curNode['data'] = {}\n    //     curNode['data']['nodeIndex'] = this.curIndex\n    //     if('categoryName' in curNode){\n    //       curNode['data']['name'] = curNode['categoryName']\n    //     }\n    //     else{\n    //       curNode['data']['name'] = curNode['name']\n    //     }\n    //     curNode['data']['num'] = curNode['num']\n    //     this.curIndex = this.curIndex + 1\n    //     for(let key in curNode['data']){\n    //       if(!(key in this.attributeList)){\n    //         if(typeof(curNode['data'][key]) == 'number')\n    //           this.UPDATE_ATTRIBUTE_LIST_NUMBER(key)\n    //         else if(typeof(curNode['data'][key]) == 'string')\n    //           this.UPDATE_ATTRIBUTE_LIST_STRING(key)\n    //         else if(typeof(curNode['data'][key]) == 'boolean'){\n    //           this.UPDATE_ATTRIBUTE_LIST_BOOLEAN(key)\n    //         }\n    //       }\n    //     }\n    //   }\n    //   if('children' in curNode){\n    //     for(let child of curNode['children']){\n    //       this.attributeCompute(child)\n    //     }\n    //   }\n    // },\n    REViewStyle(){\n      if(this.regexViewState){\n        return \"position: absolute; \" + \n          \"top: 40%; \" +\n          \"left: 0%; \" +\n          \"bottom: 0%; \" +\n          \"right: 0%; \"\n      }\n      else{\n        return \"position: absolute; \" + \n          \"top: 40%; \" +\n          \"left: 0%; \" +\n          \"bottom: 0%; \" +\n          \"right: 0%; \" +\n          \"display:none; !important\"\n      }\n    },\n    VisViewStyle(){\n      if(this.visViewState){\n        return \"position: absolute; \" + \n          \"top: 40%; \" +\n          \"left: 0%; \" +\n          \"bottom: 0%; \" +\n          \"right: 0%; \"\n      }\n      else{\n        return \"position: absolute; \" + \n          \"top: 100%; \" +\n          \"left: 0%; \" +\n          \"bottom: 0%; \" +\n          \"right: 0%; \"\n      }\n    },\n    regexQuery(regexIndex){\n      let self = this\n      let hierarchyDataDeferObj = $.Deferred()\n      $.when(hierarchyDataDeferObj).then(function() {\n        self.loadingData = false\n      })\n      \n      let hierarchicalParam = {\n        'regex': sysDatasetObj.returnRegex(regexIndex),\n        'hierarchyData': sysDatasetObj.returnHierarchyDataIn(regexIndex)\n      }\n      // initialize the tabular dataset\n      getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n        //let processed_hierarchy_data_json = JSON.parse(processed_hierarchy_data)\n        sysDatasetObj.updateHierarchyDataOut(processed_hierarchy_data, regexIndex)\n        hierarchyDataDeferObj.resolve()\n        self.UPDATE_VISVIEW()\n        sysDatasetObj.DataOutFlow(regexIndex)\n        let tmpIndexList = sysDatasetObj.returnConnection(regexIndex)\n        for(let tmpIndex of tmpIndexList){\n          self.regexQuery(tmpIndex)\n        }\n      })\n    },\n\n    dataQuery1(queryIndex){\n      let self = this\n      let hierarchyDataDeferObj = $.Deferred()\n      $.when(hierarchyDataDeferObj).then(function() {\n        self.loadingData = false\n      })\n      let hierarchicalParam = {\n        'type': 1,\n        'index': queryIndex\n      }\n      // initialize the tabular dataset\n      getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n        sysDatasetObj.updateVis(processed_hierarchy_data['visualization'])\n        sysDatasetObj.updateResultNum(processed_hierarchy_data['list_num'])\n        sysDatasetObj.updateCurResult(processed_hierarchy_data['vis_list'])\n        hierarchyDataDeferObj.resolve()\n        self.UPDATE_VIS_PANEL()\n        //self.UPDATE_VISVIEW()\n      })\n\n    },\n    dataQuery2(){\n      let self = this\n      let hierarchyDataDeferObj = $.Deferred()\n      $.when(hierarchyDataDeferObj).then(function() {\n        self.loadingData = false\n      })\n      let hierarchicalParam = {\n        'type': 2,\n        'regex':sysDatasetObj.getRegex(),\n        'condition':sysDatasetObj.getCondition(),\n      }\n      console.log(\"hierarchicalParam\", hierarchicalParam)\n      // initialize the tabular dataset\n      getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n        console.log(\"processed_hierarchy_data: \",processed_hierarchy_data)\n        sysDatasetObj.updateVis(processed_hierarchy_data['visualization'])\n        // sysDatasetObj.updateRecommend(processed_hierarchy_data['recommendation'])\n        sysDatasetObj.updateResultList(processed_hierarchy_data['result'])\n        sysDatasetObj.updatehighlightBar(processed_hierarchy_data['highlightBar'])\n        sysDatasetObj.updateRegDict(processed_hierarchy_data['reg_dict'])\n        sysDatasetObj.updateResultNum(processed_hierarchy_data['result_num'])\n        sysDatasetObj.updateCurResult(processed_hierarchy_data['cur_result'])\n        let highlight_list = processed_hierarchy_data['highlight_list']\n        d3.selectAll(\".dot\").classed(\"dot-selected\", false)\n        for(let data_index of highlight_list){\n          d3.select(\"#dot\"+data_index).classed(\"dot-selected\", true)\n\n          let tmp_transform = d3.select('#dot'+data_index).attr(\"transform\")\n          let tmp_data = d3.select('#dot'+data_index).data()\n\n          let tmp_x = +d3.select('#dot'+data_index).attr(\"x\")\n          let tmp_y = +d3.select('#dot'+data_index).attr(\"y\")\n          let tmp_r = +d3.select('#dot'+data_index).attr(\"r\")\n          \n          d3.select('#dot'+data_index).remove()\n\n          d3.select(\".overview-svg\")\n          .selectAll('#dot'+data_index)\n              .data(tmp_data)\n              .enter()\n              .append(\"circle\")\n              .attr(\"class\",\"dot\")\n              .attr(\"id\", function(d) { return \"dot\"+data_index})\n              .classed(\"dot-selected\", true)\n              .attr(\"transform\", function(d){\n                return tmp_transform;\n              })\n              .attr(\"m\", function(d) {return d['m']})\n              .attr(\"r\", function(){\n                return tmp_r;\n              })\n              .on('click', function(){\n                  self.DATA_QUERY_INDEX(parseInt(this.getAttribute(\"m\")))\n              });\n        }\n        hierarchyDataDeferObj.resolve()\n        self.UPDATE_VIS_PANEL()\n        self.UPDATE_REG_PANEL()\n\n      })\n    },\n    dataQuery3(page_index){\n        let self = this\n        let hierarchyDataDeferObj = $.Deferred()\n        $.when(hierarchyDataDeferObj).then(function() {\n          self.loadingData = false\n        })\n        let hierarchicalParam = {\n          'type': 3,\n          'index': page_index\n        }\n        // initialize the tabular dataset\n        getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n          sysDatasetObj.updateCurResult(processed_hierarchy_data['cur_result'])\n          sysDatasetObj.updateVis(processed_hierarchy_data['visualization'])\n          hierarchyDataDeferObj.resolve()\n          self.UPDATE_TREE_LIST()\n        })\n    },\n    dataQuery4(reg_coding){\n        let self = this\n        let hierarchyDataDeferObj = $.Deferred()\n        $.when(hierarchyDataDeferObj).then(function() {\n          self.loadingData = false\n        })\n        let hierarchicalParam = {\n          'type': 4,\n          'coding': reg_coding\n        }\n        // initialize the tabular dataset\n        getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n          sysDatasetObj.updateVis(processed_hierarchy_data['visualization'])\n          sysDatasetObj.updateResultNum(processed_hierarchy_data['result_num'])\n          sysDatasetObj.updateCurResult(processed_hierarchy_data['cur_result'])\n          hierarchyDataDeferObj.resolve()\n          self.UPDATE_VIS_PANEL()\n        })\n    }\n  },\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\" v-loading=\"loadingData\">\n    <el-menu\n        class=\"el-menu-demo\"\n        mode=\"horizontal\"\n        background-color=\"#676767\"\n        text-color=\"#fff\"\n        :default-active=\"activeIndex\"\n        active-text-color=\"#ffd04b\">\n        <el-menu-item class='labelIcon' id=\"title\">\n          {{appName}}\n        </el-menu-item>\n        <!-- <el-tooltip class='labelIcon' v-for=\"operation in operationArray\" :key=\"operation\" :content=\"operation\" effect=\"light\">\n          <el-menu-item :index=\"operation\">\n            {{operation}}\n          </el-menu-item>\n        </el-tooltip> -->\n    </el-menu>\n    <div class = \"content-container\" v-if=\"!loadingData\">\n      <div class=\"overview-panel\">\n        <OverviewPanel></OverviewPanel>\n      </div>\n      <div class=\"vis-panel\">\n        <VisPanel></VisPanel>\n      </div>\n\n      <div class=\"editor-panel\">\n        <EditorPanel></EditorPanel>\n      </div>\n      <div class=\"regs-panel\">\n         <RegRecommendPanel></RegRecommendPanel>\n      </div>\n\n      <div class=\"trees-panel\">\n        <RecommendPanel></RecommendPanel>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { mapState, mapMutations } from 'vuex';\nimport TreeVisView from './views/TreeVisView.vue'\nimport DataFlowView from './views/DataFlowView.vue'\nimport REView from './views/REView.vue'\nimport VisView from './views/VisView.vue'\nimport OverviewPanel from './views/OverviewPanel.vue'\nimport VisPanel from './views/VisPanel.vue'\nimport RecommendPanel from './views/RecommendPanel.vue'\nimport EditorPanel from './views/EditorPanel.vue'\nimport GraphPanel from './views/GraphPanel.vue'\nimport RegRecommendPanel from './views/RegRecommendationPanel.vue'\n\nimport { loadHierarchicalData } from './data/dataloading.js'\nimport { Dataset}  from './data/dataset.js'\nimport { getHierarchyData } from './communication/communicator.js'\nimport { getComponentKey } from '@/utils/componentkey.js'\n  import { readFile } from 'fs';\n  import * as fs from 'fs';\n\nexport default {\n  name: 'app',\n  components: {\n    TreeVisView, DataFlowView, REView, VisView,\n    OverviewPanel,VisPanel,RecommendPanel,EditorPanel,GraphPanel,RegRecommendPanel\n  },\n  data() {\n    return {\n      appName: \"TreeQueryER\",\n      operationArray: ['data'],\n      activeIndex: '',\n      loadingData: false,\n      curIndex: 0,\n    }\n  },\n  computed: {\n    ...mapState([\n      'displayMode',\n      'curRegex',\n      'regexCommitState',\n      'attributeList',\n      'regexViewState',\n      'visViewState',\n      'curRegexIndex',\n      'curConnectionNode',\n      'connectionState',\n\n      'queryStateIndex',\n      'queryStateRegex',\n      'queryIndex',\n      'queryPage',\n      'queryStatePage',\n      'queryStateCoding',\n      'queryCoding',\n    ]),\n  },\n  watch:{\n    regexCommitState: function(){\n      this.regexQuery(this.curRegexIndex)\n    },\n    connectionState: function(){\n      this.regexQuery(this.curConnectionNode)\n    },\n\n    queryStateIndex: function(){\n      this.dataQuery1(this.queryIndex)\n    },\n    queryStateRegex: function(){\n      this.dataQuery2()\n    },\n    queryStatePage: function(){\n      this.dataQuery3(this.queryPage)\n    },\n    queryStateCoding: function(){\n      this.dataQuery4(this.queryCoding)\n    }\n\n  },\n  beforeMount() {\n    let self = this\n    window.sysDatasetObj = new Dataset()\n    sysDatasetObj.init()\n    loadHierarchicalData('treeDataset/new_same_tree1.json', function(data){\n    sysDatasetObj.updateSameTree(data)\n      // let tmpData = sysDatasetObj.returnInitData()\n      // self.attributeCompute(tmpData)\n    })\n  },\n  mounted() {\n\n  },\n  methods: {\n    ...mapMutations([\n      'UPDATE_ATTRIBUTE_LIST_NUMBER',\n      'UPDATE_ATTRIBUTE_LIST_STRING',\n      'UPDATE_ATTRIBUTE_LIST_BOOLEAN',\n      'UPDATE_VISVIEW',\n\n      'DATA_QUERY_INDEX',\n      'UPDATE_VIS_PANEL',\n      'UPDATE_REG_PANEL',\n      'UPDATE_TREE_LIST'\n    ]),\n    iconClass(operation) {\n      return 'icon-' + operation\n    },\n    // attributeCompute(curNode){\n    //   if('data' in curNode){\n    //     curNode['data']['nodeIndex'] = this.curIndex\n    //     this.curIndex = this.curIndex + 1\n    //     for(let key in curNode['data']){\n    //       if(!(key in this.attributeList)){\n    //         if(typeof(curNode['data'][key]) == 'number')\n    //           this.UPDATE_ATTRIBUTE_LIST_NUMBER(key)\n    //         else if(typeof(curNode['data'][key]) == 'string')\n    //           this.UPDATE_ATTRIBUTE_LIST_STRING(key)\n    //         else if(typeof(curNode['data'][key]) == 'boolean'){\n    //           this.UPDATE_ATTRIBUTE_LIST_BOOLEAN(key)\n    //         }\n    //       }\n    //     }\n    //   }\n    //   else{\n    //     curNode['data'] = {}\n    //     curNode['data']['nodeIndex'] = this.curIndex\n    //     if('categoryName' in curNode){\n    //       curNode['data']['name'] = curNode['categoryName']\n    //     }\n    //     else{\n    //       curNode['data']['name'] = curNode['name']\n    //     }\n    //     curNode['data']['num'] = curNode['num']\n    //     this.curIndex = this.curIndex + 1\n    //     for(let key in curNode['data']){\n    //       if(!(key in this.attributeList)){\n    //         if(typeof(curNode['data'][key]) == 'number')\n    //           this.UPDATE_ATTRIBUTE_LIST_NUMBER(key)\n    //         else if(typeof(curNode['data'][key]) == 'string')\n    //           this.UPDATE_ATTRIBUTE_LIST_STRING(key)\n    //         else if(typeof(curNode['data'][key]) == 'boolean'){\n    //           this.UPDATE_ATTRIBUTE_LIST_BOOLEAN(key)\n    //         }\n    //       }\n    //     }\n    //   }\n    //   if('children' in curNode){\n    //     for(let child of curNode['children']){\n    //       this.attributeCompute(child)\n    //     }\n    //   }\n    // },\n    REViewStyle(){\n      if(this.regexViewState){\n        return \"position: absolute; \" + \n          \"top: 40%; \" +\n          \"left: 0%; \" +\n          \"bottom: 0%; \" +\n          \"right: 0%; \"\n      }\n      else{\n        return \"position: absolute; \" + \n          \"top: 40%; \" +\n          \"left: 0%; \" +\n          \"bottom: 0%; \" +\n          \"right: 0%; \" +\n          \"display:none; !important\"\n      }\n    },\n    VisViewStyle(){\n      if(this.visViewState){\n        return \"position: absolute; \" + \n          \"top: 40%; \" +\n          \"left: 0%; \" +\n          \"bottom: 0%; \" +\n          \"right: 0%; \"\n      }\n      else{\n        return \"position: absolute; \" + \n          \"top: 100%; \" +\n          \"left: 0%; \" +\n          \"bottom: 0%; \" +\n          \"right: 0%; \"\n      }\n    },\n    regexQuery(regexIndex){\n      let self = this\n      let hierarchyDataDeferObj = $.Deferred()\n      $.when(hierarchyDataDeferObj).then(function() {\n        self.loadingData = false\n      })\n      \n      let hierarchicalParam = {\n        'regex': sysDatasetObj.returnRegex(regexIndex),\n        'hierarchyData': sysDatasetObj.returnHierarchyDataIn(regexIndex)\n      }\n      // initialize the tabular dataset\n      getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n        //let processed_hierarchy_data_json = JSON.parse(processed_hierarchy_data)\n        sysDatasetObj.updateHierarchyDataOut(processed_hierarchy_data, regexIndex)\n        hierarchyDataDeferObj.resolve()\n        self.UPDATE_VISVIEW()\n        sysDatasetObj.DataOutFlow(regexIndex)\n        let tmpIndexList = sysDatasetObj.returnConnection(regexIndex)\n        for(let tmpIndex of tmpIndexList){\n          self.regexQuery(tmpIndex)\n        }\n      })\n    },\n\n    dataQuery1(queryIndex){\n      let self = this\n      let hierarchyDataDeferObj = $.Deferred()\n      $.when(hierarchyDataDeferObj).then(function() {\n        self.loadingData = false\n      })\n      let hierarchicalParam = {\n        'type': 1,\n        'index': queryIndex\n      }\n      // initialize the tabular dataset\n      getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n        sysDatasetObj.updateVis(processed_hierarchy_data['visualization'])\n        sysDatasetObj.updateResultNum(processed_hierarchy_data['list_num'])\n        sysDatasetObj.updateCurResult(processed_hierarchy_data['vis_list'])\n        hierarchyDataDeferObj.resolve()\n        self.UPDATE_VIS_PANEL()\n        //self.UPDATE_VISVIEW()\n      })\n\n    },\n    dataQuery2(){\n      let self = this\n      let hierarchyDataDeferObj = $.Deferred()\n      $.when(hierarchyDataDeferObj).then(function() {\n        self.loadingData = false\n      })\n      let hierarchicalParam = {\n        'type': 2,\n        'regex':sysDatasetObj.getRegex(),\n        'condition':sysDatasetObj.getCondition(),\n      }\n      console.log(\"hierarchicalParam\", hierarchicalParam)\n      // initialize the tabular dataset\n      getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n        console.log(\"processed_hierarchy_data: \",processed_hierarchy_data)\n        sysDatasetObj.updateVis(processed_hierarchy_data['visualization'])\n        // sysDatasetObj.updateRecommend(processed_hierarchy_data['recommendation'])\n        sysDatasetObj.updateResultList(processed_hierarchy_data['result'])\n        sysDatasetObj.updatehighlightBar(processed_hierarchy_data['highlightBar'])\n        sysDatasetObj.updateRegDict(processed_hierarchy_data['reg_dict'])\n        sysDatasetObj.updateResultNum(processed_hierarchy_data['result_num'])\n        sysDatasetObj.updateCurResult(processed_hierarchy_data['cur_result'])\n        let highlight_list = processed_hierarchy_data['highlight_list']\n        d3.selectAll(\".dot\").classed(\"dot-selected\", false)\n        for(let data_index of highlight_list){\n          d3.select(\"#dot\"+data_index).classed(\"dot-selected\", true)\n\n          let tmp_transform = d3.select('#dot'+data_index).attr(\"transform\")\n          let tmp_data = d3.select('#dot'+data_index).data()\n\n          let tmp_x = +d3.select('#dot'+data_index).attr(\"x\")\n          let tmp_y = +d3.select('#dot'+data_index).attr(\"y\")\n          let tmp_r = +d3.select('#dot'+data_index).attr(\"r\")\n          \n          d3.select('#dot'+data_index).remove()\n\n          d3.select(\".overview-svg\")\n          .selectAll('#dot'+data_index)\n              .data(tmp_data)\n              .enter()\n              .append(\"circle\")\n              .attr(\"class\",\"dot\")\n              .attr(\"id\", function(d) { return \"dot\"+data_index})\n              .classed(\"dot-selected\", true)\n              .attr(\"transform\", function(d){\n                return tmp_transform;\n              })\n              .attr(\"m\", function(d) {return d['m']})\n              .attr(\"r\", function(){\n                return tmp_r;\n              })\n              .on('click', function(){\n                  self.DATA_QUERY_INDEX(parseInt(this.getAttribute(\"m\")))\n              });\n        }\n        hierarchyDataDeferObj.resolve()\n        self.UPDATE_VIS_PANEL()\n        self.UPDATE_REG_PANEL()\n\n      })\n    },\n    dataQuery3(page_index){\n        let self = this\n        let hierarchyDataDeferObj = $.Deferred()\n        $.when(hierarchyDataDeferObj).then(function() {\n          self.loadingData = false\n        })\n        let hierarchicalParam = {\n          'type': 3,\n          'index': page_index\n        }\n        // initialize the tabular dataset\n        getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n          sysDatasetObj.updateCurResult(processed_hierarchy_data['cur_result'])\n          sysDatasetObj.updateVis(processed_hierarchy_data['visualization'])\n          hierarchyDataDeferObj.resolve()\n          self.UPDATE_TREE_LIST()\n        })\n    },\n    dataQuery4(reg_coding){\n        let self = this\n        let hierarchyDataDeferObj = $.Deferred()\n        $.when(hierarchyDataDeferObj).then(function() {\n          self.loadingData = false\n        })\n        let hierarchicalParam = {\n          'type': 4,\n          'coding': reg_coding\n        }\n        // initialize the tabular dataset\n        getHierarchyData(hierarchicalParam, function(processed_hierarchy_data) {\n          sysDatasetObj.updateVis(processed_hierarchy_data['visualization'])\n          sysDatasetObj.updateResultNum(processed_hierarchy_data['result_num'])\n          sysDatasetObj.updateCurResult(processed_hierarchy_data['cur_result'])\n          hierarchyDataDeferObj.resolve()\n          self.UPDATE_VIS_PANEL()\n        })\n    }\n  },\n}\n</script>\n\n<style lang=\"less\">\nhtml {\n  font-size: 100%;\n}\n@menu-height: 2rem;\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: absolute;\n  top: 0%;\n  bottom: 0%;\n  left: 0%;\n  right: 0%;\n  background-color: rgb(218, 218, 218);\n  .el-menu.el-menu--horizontal {\n    .el-menu-item {\n      height: @menu-height;\n      line-height: @menu-height;\n    }\n    .el-menu-item {\n      border-bottom-color: rgb(84, 92, 100) !important;\n      font-weight: bolder;\n      font-size: 1rem;\n      color: #dadada !important;\n      padding: 0 10px;\n      .icon {\n        color: #dadada !important;\n      }\n    }\n  }\n  .labelIcon {\n    font-size: 1rem;\n  }\n  .content-container {\n    position: absolute;\n    top: @menu-height;\n    left: 0%;\n    bottom: 0%;\n    right: 0%;\n    .overview-panel{\n      position: absolute;\n      top: 0px;\n      left: 0px;\n      bottom: 0px;\n      right: 80%;\n      background-color: white;\n      border-right: 1px #ddd solid;\n    }\n    .vis-panel{\n      position: absolute;\n      top: 0px;\n      left: 20%;\n      bottom: 40%;\n      right: 30%;\n      background-color: white;\n    }\n    .editor-panel{\n      position: absolute;\n      top: 0px;\n      left: 70%;\n      bottom: 40%;\n      right: 0px;\n      background-color: white;\n      border-left: 1px #ddd solid;\n    }\n    .regs-panel{\n      position: absolute;\n      top: 60%;\n      left: 70%;\n      bottom: 0px;\n      right: 0px;\n      background-color: white;\n      border-left: 1px #ddd solid;\n      border-top: 1px #ddd solid;;\n    }\n    .trees-panel{\n      position: absolute;\n      top: 60%;\n      left: 20%;\n      bottom: 0px;\n      right: 30%;\n      background-color: white;\n      border-top: 1px #ddd solid;\n    }\n\n  }\n  \t.node {\n\t\tcursor: pointer;\n\t}\n\n\t.node circle {\n\t  fill: #fff;\n\t  stroke: rgb(70, 90, 180);\n\t  stroke-width: 3px;\n\t}\n\n\t// .node text {\n\t//   font: 12px sans-serif;\n\t// }\n\n\t.link {\n\t  fill: none;\n\t  stroke: #ccc;\n\t  stroke-width: 2px;\n\t}\n}\n</style>\n"]}]}